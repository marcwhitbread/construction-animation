"use strict";function animation(a){var b=0;interval=setInterval(function(){return b>=floors?(clearInterval(interval),!0):(build_p1(b,$(a).children(".stories").children(".story").eq(b)),void b++)},structure_p1_build_delay)}function build_p1(a,b){$(b).addClass("p1"),setTimeout(function(){build_p2(a,b)},structure_p2_build_delay),setTimeout(function(){build_crane(a,b)},structure_crane_build_delay)}function build_p2(a,b){$(b).removeClass("p1").addClass("p2"),$(b).hasClass("roof")&&setTimeout(function(){remove_crane()},p2_build_done_delay)}function build_crane(a,b){if($("#structure .crane").hasClass("show")||$("#structure .crane").addClass("show"),a+1==floors-basement_floors){var c=parseInt($(b).css("transform").split(",")[5],10)-basement_floors*(structure_story_height+structure_story_floor_height)+(structure_story_floor_height+structure_roof_height);$("#structure .crane").css({"-webkit-transform":"translateX("+(structure_story_pillar_indent+structure_story_indent)+"px) translateY("+c+"px) translateZ("+(-structure_width/2+structure_story_indent+crane_width/2+structure_story_pillar_indent)+"px)"})}else if(floors-basement_floors>a){var c=parseInt($(b).css("transform").split(",")[5],10)-basement_floors*(structure_story_height+structure_story_floor_height);$("#structure .crane").css({"-webkit-transform":"translateX("+(structure_story_pillar_indent+structure_story_indent)+"px) translateY("+c+"px) translateZ("+(-structure_width/2+structure_story_indent+crane_width/2+structure_story_pillar_indent)+"px)"})}setTimeout(function(){build_bd1(a,b)},structure_bd1_build_delay)}function remove_crane(){$("#structure .crane").removeClass("show")}function build_bd1(a,b){if(a+1==floors-basement_floors){var c=parseInt($(b).css("transform").split(",")[5],10)-basement_floors*(structure_story_height+structure_story_floor_height)+(structure_story_floor_height+structure_roof_height);$("#structure .build-deck-1").css({"-webkit-transform":"translateY("+(c+3)+"px)"})}else if(floors-basement_floors>a){$("#structure .build-deck-1").hasClass("show")||$("#structure .build-deck-1").addClass("show");var c=parseInt($(b).css("transform").split(",")[5],10)-basement_floors*(structure_story_height+structure_story_floor_height);$("#structure .build-deck-1").css({"-webkit-transform":"translateY("+(c+3)+"px)"}),$("#structure .build-deck-1 .sheet").css({height:a*(structure_story_height+structure_story_floor_height)+structure_build_deck_height+"px"})}setTimeout(function(){build_bd2_sheet(a,b)},structure_bd2_sheet_build_delay)}function remove_bd1(){$("#structure .build-deck-1").removeClass("show")}function build_bd2_sheet(a,b){structure_wrap_2_floors>=a&&($("#structure .build-deck-2").hasClass("show")||$("#structure .build-deck-2").addClass("show"),$("#structure .build-deck-2 .sheet").css({height:a*(structure_story_height+structure_story_floor_height)+"px"})),setTimeout(function(){build_p3(a,b)},structure_p3_build_delay)}function build_p3(a,b){$(b).addClass("p3").removeClass("p2"),setTimeout(function(){build_bd2(a,b)},structure_bd2_build_delay),$(b).hasClass("roof")&&setTimeout(function(){remove_bd1(),remove_bd2()},0)}function build_bd2(a,b){if(console.log(a,floors,basement_floors),a+1==floors-basement_floors){var c=parseInt($(b).css("transform").split(",")[5],10)-basement_floors*(structure_story_height+structure_story_floor_height)+(structure_story_floor_height+structure_roof_height);$("#structure .build-deck-2").css({"-webkit-transform":"translateY("+(c+3)+"px)"})}else if(floors-basement_floors>a){var c=parseInt($(b).css("transform").split(",")[5],10)-basement_floors*(structure_story_height+structure_story_floor_height);$("#structure .build-deck-2").css({"-webkit-transform":"translateY("+(c+3)+"px)"})}a+structure_wrap_2_floors+basement_floors+2>=floors&&$("#structure .build-deck-2 .sheet").css({height:(floors-a-structure_wrap_2_floors-2)*(structure_story_height+structure_story_floor_height)+"px"})}function remove_bd2(){$("#structure .build-deck-2").removeClass("show")}function build(a){for(var b=0;floors>b;b++){var c=basement_floors>b?" ug":b==basement_floors?" ground":b==floors-1?" roof":"",d=basement_floors-1>b?" p1":"",e=start_at_floor-basement_floors>b?" p2":"";$(a).children(".stories").append($("<div class = 'story"+c+d+e+"'>			<div class = 'side'></div>			<div class = 'side'></div>			<div class = 'side'></div>			<div class = 'side'></div>			<div class = 'side'></div>			<div class = 'side'></div>						<div class = 'girders'>				<div class = 'girder'>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>				</div>								<div class = 'girder'>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>				</div>				\n				<div class = 'girder'>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>				</div>								<div class = 'girder'>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>				</div>			</div>						<div class = 'floor'>				<div class = 'side'></div>				<div class = 'side'></div>				<div class = 'side'></div>				<div class = 'side'></div>				<div class = 'side'></div>				<div class = 'side'></div>			</div>						<div class = 'wall open-top open-bottom'>				<div class = 'side'></div>				<div class = 'side'></div>				<div class = 'side'></div>				<div class = 'side'></div>				<div class = 'side'></div>				<div class = 'side'></div>			</div>						<div class = 'pillars'>				<div class = 'pillar'>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>				</div>								<div class = 'pillar'>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>				</div>								<div class = 'pillar'>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>				</div>								<div class = 'pillar'>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>				</div>			</div>		</div>"))}for(var f=plot_width/((plot_width-structure_width)/2),b=0;f>b;b++)for(var g=0;f>g;g++)(0==b||b==f-1||0==g||g==f-1)&&$(a).children(".base-tiles").append($("<div class = 'tile'>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>					<div class = 'side'></div>				</div>"));animation(a)}function create_block(){}var app=angular.module("construction",[]),interval=void 0,floors=26,basement_floors=4,p1_p2_floor_distance=4,start_at_floor=5,structure_p1_build_delay=2e3,p2_build_done_delay=0*structure_p1_build_delay,structure_p2_build_delay=structure_p1_build_delay*p1_p2_floor_distance,structure_crane_build_delay=structure_p1_build_delay*basement_floors,structure_bd1_build_delay=3.5*structure_p1_build_delay,structure_bd2_sheet_build_delay=8.5*structure_p1_build_delay,structure_p3_build_delay=1*structure_p1_build_delay,structure_bd2_build_delay=structure_p1_build_delay*basement_floors-structure_p1_build_delay/2,plot_width=140,plot_depth=140,plot_height=2,crane_width=8,structure_width=100,structure_depth=100,structure_story_indent=6,structure_story_height=11,structure_story_railing_height=3,structure_story_floor_height=1,structure_story_pillar_indent=4,structure_roof_height=5,structure_build_panel_unindent=2,structure_height=floors*(structure_story_height+structure_story_floor_height)+5,structure_build_deck_height=5,structure_build_deck_panel_1_height=1.5*(structure_story_height+structure_story_floor_height),structure_build_deck_panel_2_height=1.5*(structure_story_height+structure_story_floor_height),structure_wrap_1_height=30,structure_wrap_2_floors=5,structure_wrap_2_height=structure_wrap_2_floors*(structure_story_height+structure_story_floor_height),structure_wrap_indent=5;$(document).ready(function(){build("#structure")}),app.factory("Structure",["width",function(){var a=function(){this.id=id};return a.prototype={load:function(){}},a}]);